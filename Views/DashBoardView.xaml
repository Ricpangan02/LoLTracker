<UserControl x:Class="LoLTracker.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent">
    <Grid Margin="24" Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header with Player Selector -->
        <Grid Grid.Row="0" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="Dashboard"
                       Style="{StaticResource HeaderText}"
                       Grid.Column="0"/>
            <StackPanel Grid.Column="1"
                        Orientation="Horizontal"
                        VerticalAlignment="Center">
                <TextBlock Text="Filter by Player:"
                           Style="{StaticResource SubHeaderText}"
                           VerticalAlignment="Center"
                           Margin="0,0,12,0"/>
                <ComboBox ItemsSource="{Binding PlayerNames}"
                          SelectedItem="{Binding SelectedPlayer}"
                          Width="200"
                          MinWidth="150"/>
            </StackPanel>
        </Grid>

        <!-- Overall Stats Cards -->
        <UniformGrid Grid.Row="1"
                     Rows="1"
                     Columns="7"
                     Margin="0,0,0,24">
            <!-- Wins Card -->
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,12,0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="WINS"
                               Style="{StaticResource StatLabel}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding TotalWins}"
                               Style="{StaticResource StatValue}"
                               Foreground="{StaticResource WinColor}"/>
                </StackPanel>
            </Border>

            <!-- Losses Card -->
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,12,0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="LOSSES"
                               Style="{StaticResource StatLabel}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding TotalLosses}"
                               Style="{StaticResource StatValue}"
                               Foreground="{StaticResource LossColor}"/>
                </StackPanel>
            </Border>

            <!-- Overall Win Rate Card -->
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,12,0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="WIN RATE"
                               Style="{StaticResource StatLabel}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding OverallWinRate, StringFormat='{}{0:N1}%'}"
                               Style="{StaticResource StatValue}"
                               Foreground="{StaticResource PrimaryAccent}"/>
                </StackPanel>
            </Border>

            <!-- Best Champion Card -->
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,12,0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="BEST CHAMPION"
                               Style="{StaticResource StatLabel}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding BestChampion}"
                               FontSize="20"
                               FontWeight="Bold"
                               Foreground="{StaticResource PrimaryAccent}"/>
                </StackPanel>
            </Border>

            <!-- Worst Champion Card -->
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,12,0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="WORST CHAMPION"
                               Style="{StaticResource StatLabel}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding WorstChampion}"
                               FontSize="20"
                               FontWeight="Bold"
                               Foreground="{StaticResource TextSecondary}"/>
                </StackPanel>
            </Border>

            <!-- Bravery Win Rate Card -->
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0,0,12,0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="BRAVERY WIN RATE"
                               Style="{StaticResource StatLabel}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding BraveryWinRate, StringFormat='{}{0:N1}%'}"
                               Style="{StaticResource StatValue}"
                               Foreground="{StaticResource PrimaryAccent}"/>
                </StackPanel>
            </Border>

            <!-- Selected Win Rate Card -->
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Margin="0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="SELECTED WIN RATE"
                               Style="{StaticResource StatLabel}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding SelectedWinRate, StringFormat='{}{0:N1}%'}"
                               Style="{StaticResource StatValue}"
                               Foreground="{StaticResource PrimaryAccent}"/>
                </StackPanel>
            </Border>
        </UniformGrid>

        <!-- Player Stats Section -->
        <StackPanel Grid.Row="2"
                    Margin="0,0,0,24">
            <TextBlock Text="Player Statistics"
                       Style="{StaticResource SubHeaderText}"
                       Margin="0,0,0,12"/>
            
            <Border Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="0">
                <Border.Effect>
                    <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
                </Border.Effect>
                <DataGrid ItemsSource="{Binding PlayerStats}"
                          AutoGenerateColumns="False"
                          HeadersVisibility="Column"
                          BorderThickness="0"
                          Background="Transparent"
                          MaxHeight="300">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Player"
                                            Binding="{Binding PlayerName}"
                                            IsReadOnly="True"
                                            Width="*">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Foreground" Value="{StaticResource PrimaryAccent}"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Games"
                                            Binding="{Binding GamesPlayed}"
                                            IsReadOnly="True"
                                            Width="100">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Wins"
                                            Binding="{Binding Wins}"
                                            IsReadOnly="True"
                                            Width="100">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Foreground" Value="{StaticResource WinColor}"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Losses"
                                            Binding="{Binding Losses}"
                                            IsReadOnly="True"
                                            Width="100">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Foreground" Value="{StaticResource LossColor}"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Win Rate"
                                            Binding="{Binding WinRate, StringFormat='{}{0:N1}%'}"
                                            IsReadOnly="True"
                                            Width="120">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Foreground" Value="{StaticResource PrimaryAccent}"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Best Champion"
                                            Binding="{Binding BestChampion}"
                                            IsReadOnly="True"
                                            Width="150"/>
                        <DataGridTextColumn Header="Worst Champion"
                                            Binding="{Binding WorstChampion}"
                                            IsReadOnly="True"
                                            Width="150"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>
        </StackPanel>

        <!-- Champion Stats Table -->
        <Border Grid.Row="3"
                Background="{StaticResource CardBackground}"
                BorderBrush="{StaticResource CardBorder}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="0">
            <Border.Effect>
                <DropShadowEffect Color="#FF000000" Opacity="0.2" BlurRadius="8" ShadowDepth="2"/>
            </Border.Effect>
            <DataGrid ItemsSource="{Binding ChampionStats}"
                      AutoGenerateColumns="False"
                      HeadersVisibility="Column"
                      BorderThickness="0"
                      Background="Transparent">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Champion"
                                        Binding="{Binding Champion}"
                                        IsReadOnly="True"
                                        Width="*"/>
                    <DataGridTextColumn Header="Wins"
                                        Binding="{Binding Wins}"
                                        IsReadOnly="True"
                                        Width="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Foreground" Value="{StaticResource WinColor}"/>
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="Losses"
                                        Binding="{Binding Losses}"
                                        IsReadOnly="True"
                                        Width="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Foreground" Value="{StaticResource LossColor}"/>
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="Win Rate"
                                        Binding="{Binding WinRate, StringFormat='{}{0:N1}%'}"
                                        IsReadOnly="True"
                                        Width="150">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Foreground" Value="{StaticResource PrimaryAccent}"/>
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Border>
    </Grid>
</UserControl>
